<div class="flex min-h-screen flex-col bg-slate-50">
  <header class="sticky top-0 z-10 flex items-center justify-between border-b border-slate-200 bg-white px-6 py-4 shadow-sm">
    <div class="flex items-center gap-4">
      <div class="text-blue-600">
        <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7l10 5 10-5L12 2zm0 7.5L4 5.5l8-4 8 4-8 4zM2 17l10 5 10-5-10-5-10 5zm0-2.5l8 4 8-4-8-4-8 4z"></path>
        </svg>
      </div>
      <h1 class="text-xl font-bold text-slate-800">Ayuntamiento de Boca del Río</h1>
    </div>
    <nav class="flex items-center gap-8">
      <a routerLink="/inicio" class="text-slate-600 text-base font-medium leading-normal hover:text-blue-600 transition-colors">Inicio</a>
      <a class="text-sm font-semibold text-blue-600" href="#">Servicios</a>
      <a class="text-sm font-medium text-slate-600 hover:text-blue-600" href="#">Reportes</a>
      <a class="text-sm font-medium text-slate-600 hover:text-blue-600" href="#">Contacto</a>
      <div class="ml-4 flex items-center gap-4">
        <button class="relative rounded-full p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-700">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
            <path d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"></path>
          </svg>
          <span class="absolute top-1 right-1 h-2 w-2 rounded-full bg-red-500"></span>
        </button>
        <img alt="User avatar" class="h-10 w-10 rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAoRwLcmsLGQU7FfYkkhFTQIKXoVxzBn1ezSBI-Ff7oSRXwsq4VzJSBKwsLPwszCRrMbSZQ04WBstK-ji14V1MJtU1nChbu7LYGLS6A3CNmdOq7LJy-RGW3EFSqT1732jsWC38f-TLN2L41k8QT5y1RD3JyXlcbXFlT9iYx_APfw6GnuYkifRJQuq8jDCXSmCxVLuGKtLvAy1ZWOAFIuPpEvIWumAwGTJU_0Ba9v5LJ6kK91OmicBjy4s8id5WLz8PXGS0T0Yv8bWQa" />
      </div>
    </nav>
  </header>
  
  <main class="flex-1 bg-gray-50 p-6 lg:p-10">
    <div class="mx-auto max-w-7xl">
      <div class="mb-8 flex flex-wrap items-center justify-between gap-4">
        <h2 class="text-3xl font-bold text-slate-900">Reportes Ciudadanos</h2>
        <button class="flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path>
          </svg>
          <span>Nuevo Reporte</span>
        </button>
      </div>
      
      <div class="mb-6 flex flex-wrap items-center gap-4 rounded-lg border border-slate-200 bg-white p-4">
        <h3 class="text-sm font-medium text-slate-600">Filtros:</h3>
        <div class="flex flex-wrap gap-2">
          <select class="appearance-none rounded-md border border-gray-300 bg-white py-2 pl-3 pr-8 text-sm text-slate-700 focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600">
            <option>Estado: Todos</option>
            <option>Pendiente</option>
            <option>En Progreso</option>
            <option>Completado</option>
          </select>
          <select class="appearance-none rounded-md border border-gray-300 bg-white py-2 pl-3 pr-8 text-sm text-slate-700 focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600">
            <option>Tipo: Todos</option>
            <option>Reparación de luminaria</option>
            <option>Fuga de agua</option>
            <option>Recolección de basura</option>
            <option>Reparación de baches</option>
          </select>
          <input class="rounded-md border border-gray-300 bg-white py-2 px-3 text-sm text-slate-700 focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600" type="date" />
        </div>
      </div>
      
      <div class="overflow-x-auto rounded-lg border border-slate-200 bg-white shadow-sm">
        <!-- Estado de carga -->
        <div *ngIf="loading" class="flex justify-center items-center py-12">
          <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
          <span class="ml-3 text-slate-600">Cargando reportes...</span>
        </div>
        
        <!-- Error -->
        <div *ngIf="error" class="bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
          <div class="flex items-center">
            <svg class="h-5 w-5 text-red-400 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-red-800 text-sm">{{ error }}</span>
          </div>
        </div>
        
        <table *ngIf="!loading && !error" class="w-full text-left text-sm text-slate-700">
          <thead class="bg-slate-50 text-xs uppercase text-slate-500">
            <tr>
              <th class="px-6 py-3 font-medium" scope="col">Folio</th>
              <th class="px-6 py-3 font-medium" scope="col">Tipo de Servicio</th>
              <th class="px-6 py-3 font-medium" scope="col">Ciudadano</th>
              <th class="px-6 py-3 font-medium" scope="col">Estado</th>
              <th class="px-6 py-3 font-medium" scope="col">Fecha de Creación</th>
              <th class="px-6 py-3 font-medium text-center" scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let reporte of reportes" class="border-b border-slate-200 bg-white hover:bg-slate-50">
              <td class="px-6 py-4 font-medium text-slate-900">{{ reporte.folio || 'Sin folio' }}</td>
              <td class="px-6 py-4">{{ getTipoServicioText(reporte.tipoServicio) }}</td>
              <td class="px-6 py-4">{{ formatearNombreCorto(reporte.ciudadanoNombre + ' ' + reporte.ciudadanoApellidos) }}</td>
              <td class="px-6 py-4">
                <span [ngClass]="getStatusClass(reporte.estado)" class="px-3 py-1 rounded-full text-xs font-medium">
                  {{ getStatusText(reporte.estado) }}
                </span>
              </td>
              <td class="px-6 py-4 text-slate-600">{{ formatearFecha(reporte.fechaCreacion) }}</td>
              <td class="px-6 py-4 text-center">
                <button 
                  (click)="verDetalle(reporte.id!)"
                  class="text-sm font-medium text-blue-600 hover:underline">
                  Ver Detalles
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <nav aria-label="Table navigation" class="mt-6 flex items-center justify-between">
        <span class="text-sm font-normal text-slate-500">
          Mostrando <span class="font-semibold text-slate-900">1-8</span> de 
          <span class="font-semibold text-slate-900">{{ reportes.length }}</span>
        </span>
        <ul class="inline-flex h-8 -space-x-px text-sm">
          <li>
            <a class="ml-0 flex h-8 items-center justify-center rounded-l-lg border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700" href="#">Anterior</a>
          </li>
          <li>
            <a class="flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700" href="#">1</a>
          </li>
          <li>
            <a class="flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700" href="#">2</a>
          </li>
          <li>
            <a class="flex h-8 items-center justify-center rounded-r-lg border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700" href="#">Siguiente</a>
          </li>
        </ul>
      </nav>
    </div>
  </main>
</div>
